@startuml
package "User-exits" {
  interface ZIF_TIMEM_USEREXIT
  ZCL_TIMEM_USEREXITS "1" *-- "many" ZIF_TIMEM_USEREXIT
}

package "Object" {
  interface ZIF_TIMEM_OBJECT

  ZCL_TIMEM_OBJECT_PROG --|> ZIF_TIMEM_OBJECT
  ZCL_TIMEM_OBJECT_CLAS --|> ZIF_TIMEM_OBJECT
  ZCL_TIMEM_OBJECT_FUGR --|> ZIF_TIMEM_OBJECT

  ZCL_TIMEM_OBJECT_FACTORY ..> ZIF_TIMEM_OBJECT
  ZCL_TIMEM_OBJECT_FACTORY ..> ZCL_TIMEM_OBJECT_PROG
  ZCL_TIMEM_OBJECT_FACTORY ..> ZCL_TIMEM_OBJECT_PROG_INCLUDES
  ZCL_TIMEM_OBJECT_FACTORY ..> ZCL_TIMEM_OBJECT_CLAS
  ZCL_TIMEM_OBJECT_FACTORY ..> ZCL_TIMEM_OBJECT_FUGR
}

package "Parts" {
  ZCL_TIMEM_VERSION ..> ZCL_TIMEM_AUTHOR

  ZCL_TIMEM_PART "1" *-- "many" ZCL_TIMEM_VERSION
  ZCL_TIMEM_PART ..> ZCL_TIMEM_DIFF
  ZCL_TIMEM_PART ..> ZCL_TIMEM_VRSD

  ZCL_TIMEM_AGGREGATED_FIELDS ..> ZCL_TIMEM_AGGREATED_FIELD
  ZCL_TIMEM_AGGREGATED_FIELD --> ZCL_TIMEM_REQUEST

  ZCL_TIMEM_PARTS "1" *-- "many" ZCL_TIMEM_PART
  ZCL_TIMEM_PARTS *-- ZCL_TIMEM_USEREXITS
  ZCL_TIMEM_PARTS ..> ZCL_TIMEM_STATS
  ZCL_TIMEM_PARTS ..> ZCL_TIMEM_AGGREGATED_FIELDS
  ZCL_TIMEM_PARTS ..> ZCL_TIMEM_OBJECT_FACTORY
  ZCL_TIMEM_PARTS ..> ZIF_TIMEM_OBJECT
}

package "GUI" {
  abstract ZCL_TIMEM_SYNTAX_HIGHLIGHTER

  ZCL_TIMEM_SYNTAX_ABAP --|> ZCL_TIMEM_SYNTAX_HIGHLIGHTER

  interface ZIF_TIMEM_ASSET
  ZCL_TIMEM_ASSET_CSS --|> ZIF_TIMEM_ASSET
  ZCL_TIMEM_ASSET_HTML_BLAME --|> ZIF_TIMEM_ASSET
  ZCL_TIMEM_ASSET_HTML_TMACHINE --|> ZIF_TIMEM_ASSET
  ZCL_TIMEM_ASSET_FACTORY ..> ZIF_TIMEM_ASSET
  ZCL_TIMEM_ASSET_FACTORY ..> ZCL_TIMEM_ASSET_CSS
  ZCL_TIMEM_ASSET_FACTORY ..> ZCL_TIMEM_ASSET_HTML_BLAME
  ZCL_TIMEM_ASSET_FACTORY ..> ZCL_TIMEM_ASSET_HTML_TMACHINE

  ZCL_TIMEM_GUI_VIEWER *-- ZCL_TIMEM_USEREXITS
  ZCL_TIMEM_GUI_VIEWER ..> ZCL_TIMEM_ASSET_FACTORY
  ZCL_TIMEM_GUI_VIEWER ..> ZIF_TIMEM_ASSET

  ZCL_TIMEM_GUI_HANDLER *-- ZCL_TIMEM_USEREXITS
  ZCL_TIMEM_GUI_HANDLER o-- ZCL_TIMEM_GUI

  ZCL_TIMEM_GUI *-- ZCL_TIMEM_GUI_HANDLER
  ZCL_TIMEM_GUI *-- ZCL_TIMEM_GUI_VIEWER
  ZCL_TIMEM_GUI *-- ZCL_TIMEM_PARTS
  ZCL_TIMEM_GUI ..> ZCL_TIMEM_SYNTAX_ABAP
}

package "Run" {  
  class ZTIMEMACHINE << (P,grey) >>
  ZTIMEMACHINE *.. ZCL_TIMEM_DYNPRO
  ZTIMEMACHINE *.. ZCL_TIMEM_RUN
  ZCL_TIMEM_RUN ..> ZCL_TIMEM_GUI

  class SE91_ZTIMEMACHINE << (T,grey) >>
  SE91_ZTIMEMACHINE ..> ZTIMEMACHINE

  class SE91_ZBLAME << (T,grey) >>
  SE91_ZBLAME ..> ZTIMEMACHINE
}

package "Used everywhere" {
  interface ZIF_TIMEM_CONSTS
  class ZCL_TIMEM_OPTIONS
  class ZCX_TIMEM
}
@enduml
